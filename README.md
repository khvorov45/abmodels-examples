# Application of statistical models to antibody data

[![GenerateResults](https://github.com/khvorov45/abmodels-examples/workflows/GenerateResults/badge.svg)](https://github.com/khvorov45/abmodels-examples/actions)

## Dependencies

Easiest way to install them is to use [renv](https://rstudio.github.io/renv/)

```r
renv::restore() # while in project directory
```

Otherwise install the packages from `library` calls individually.

Note that if an R session is launched from the project directory, [renv](https://rstudio.github.io/renv/) will attempt to install itself and switch to the local environment.

## Results

Easiest way to generate everything is with [Snakemake](https://snakemake.readthedocs.io/en/stable/#)

```shell
snakemake all --cores all
```

Make sure to install the dependencies beforehand.

Everything that's generated can be removed with

```shell
snakemake all --cores all --delete-all-output
```

[Snakemake](https://snakemake.readthedocs.io/en/stable/#) isn't required though, every file can be run manually (e.g., from [RStudio](https://rstudio.com/)) as long as the files are run in the right order and all dependencies are installed.

Each script generates an output stored in the same folder as the script. Some scripts need output generated by other scripts (e.g., data needs to be simulated in `data/sim-cox.R` before it is plotted in `data-plot/plot-cox.R`). Scripts have comment annotations saying which script generates the required file.
